---
title: "Shiny Tutorial"
author: "Thomas Kirschstein"
date: "29 4 2021"
output: 
  ioslides_presentation:
    css: style.css
    logo: logo.png
    widescreen: true
    smaller: true
    self_contained: true
runtime: shiny
---

```{r setup, include=FALSE, cache=TRUE}
knitr::opts_chunk$set(echo = FALSE)
library(png)
library(lubridate)
library(tidyverse)
#library(optimx)
library(DT)
library(knitr)
library(kableExtra)
library(shiny)

```

## R Markdown

This is an R Markdown presentation. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document.

## Slide with Bullets

- Bullet 1
- Bullet 2
- Bullet 3

## Slide with R Output

```{r, echo=FALSE}
inputPanel(
  selectInput("n_breaks", label = "Number of bins:",
          choices = c(10, 20, 35, 50), selected = 20),

  sliderInput("bw_adjust", label = "Bandwidth adjustment:",
          min = 0.2, max = 2, value = 1, step = 0.2)
)

renderPlot({
  hist(faithful$eruptions, probability = TRUE, breaks = as.numeric(input$n_breaks),
       xlab = "Duration (minutes)", main = "Geyser eruption duration")

  dens <- density(faithful$eruptions, adjust = input$bw_adjust)
  lines(dens, col = "blue")
})
```

## Slide with Plot

```{r pressure}
ui <- fluidPage(
           # Application title
           titlePanel("Old Faithful Geyser Data"),
           # Sidebar with a slider input for number of bins 
           sidebarLayout(
              sidebarPanel(
                 sliderInput("bins",
                             "Number of bins:",
                             min = 1,
                             max = 50,
                             value = 30)
              ),
              # Show a plot of the generated distribution
              mainPanel(
                 plotOutput("distPlot")
              )
           )
      )

server <- function(input, output) {

  output$distPlot <- renderPlot({
    x    <- faithful$waiting
    bins <- seq(min(x), max(x), length.out = input$bins + 1)

    hist(x, breaks = bins, col = "#75AADB", border = "white",
         xlab = "Waiting time to next eruption (in mins)",
         main = "Histogram of waiting times")
  })
}

shinyApp(ui = ui, server = server)
```

## Slide with controls

```{r echo = TRUE}
inputPanel(
selectInput("n_breaks2", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20),
sliderInput("bw_adjust2", label = "Bandwidth adjustment:",
              min = 0.2, max = 2, value = 1, step = 0.2)
)
```

## Slide with result

```{r echo = FALSE}
renderPlot({
  hist(faithful$eruptions, probability = TRUE,
       breaks = as.numeric(input$n_breaks2),
       xlab = "Duration (minutes)",
       main = "Geyser eruption duration")

  dens <- density(faithful$eruptions, adjust = input$bw_adjust2)
  lines(dens, col = "blue")
})
```

## 2-column design

<div class="columns-2">

```{r echo = TRUE}
inputPanel(
selectInput("n_breaks3", label = "Number of bins:",
              choices = c(10, 20, 35, 50), selected = 20),
sliderInput("bw_adjust3", label = "Bandwidth adjustment:",
              min = 0.2, max = 2, value = 1, step = 0.2)
)
```



```{r echo = FALSE}
renderPlot({
  hist(faithful$eruptions, probability = TRUE,
       breaks = as.numeric(input$n_breaks3),
       xlab = "Duration (minutes)",
       main = "Geyser eruption duration")

  dens <- density(faithful$eruptions, adjust = input$bw_adjust3)
  lines(dens, col = "blue")
})
```
</div>

